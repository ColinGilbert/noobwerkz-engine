<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.9.1: http://docutils.sourceforge.net/" />
<title></title>
<link rel="stylesheet" href="docutils-articles.css" type="text/css" />
</head>
<body>

<div class="banner">
<img src="images/gm-107x76.png" alt="GraphicMagick logo" width="107" height="76" />
<span class="title">GraphicsMagick</span>
<form action="http://www.google.com/search">
	<input type="hidden" name="domains" value="www.graphicsmagick.org" />
	<input type="hidden" name="sitesearch" value="www.graphicsmagick.org" />
    <span class="nowrap"><input type="text" name="q" size="25" maxlength="255" />&nbsp;<input type="submit" name="sa" value="Search" /></span>
</form>
</div>

<div class="navmenu">
<ul>
<li><a href="index.html">Home</a></li>
<li><a href="project.html">Project</a></li>
<li><a href="download.html">Download</a></li>
<li><a href="README.html">Install</a></li>
<li><a href="Hg.html">Source</a></li>
<li><a href="NEWS.html">News</a> </li>
<li><a href="utilities.html">Utilities</a></li>
<li><a href="programming.html">Programming</a></li>
<li><a href="reference.html">Reference</a></li>
</ul>
</div>
<div class="document">


<p>2015-02-28  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>www/index.rst: Update for 1.3.21 release.</li>
<li>www/Changes.rst: Update for 1.3.21 release.</li>
<li>NEWS.txt: Update NEWS for 1.3.21 release.</li>
<li>version.sh: Bump/adjust library versioning.</li>
</ul>
</blockquote>
<p>2015-02-25  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/delegate.c: Fix compilation under Cygwin. Thanks to Marco
Atzeri for advising us of this problem.</li>
</ul>
</blockquote>
<p>2015-02-24  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/error.h (ThrowReaderException): More significant
exceptions (e.g. errors) should overwrite less significant
exceptions (e.g. warnings) thrown earlier.</li>
<li>coders/bmp.c (ReadBMPImage): Detect 32-bit integer overflows and
other annoyances caused by intentionally broken files.  Also, only
warn if the file header claims the file is larger than it is since
this is a benign issue.</li>
<li>magick/blob.c (OpenBlob): Fix &quot;magic header bytes&quot; log message
count value.</li>
</ul>
</blockquote>
<p>2015-02-22  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>NEWS.txt: Updated NEWS with more changes.</li>
<li>Magick++/lib/Magick++/Include.h (Magick): Add GetImageGeometry
to MagickLib namespace in order to avoid a compilation problem
noticed with Visual C++ 6.0.</li>
</ul>
</blockquote>
<p>2014-02-22  Jaroslav Fojtik  &lt;<a class="reference external" href="mailto:JaFojtik&#37;&#52;&#48;seznam&#46;cz">JaFojtik<span>&#64;</span>seznam<span>&#46;</span>cz</a>&gt;</p>
<blockquote>
<ul>
<li><dl class="first docutils">
<dt>VisualMagickconfigureconfigure.cpp Fixed crash.</dt>
<dd><p class="first last">Renamed debug to configure_d.exe to prevent mess.</p>
</dd>
</dl>
</li>
</ul>
</blockquote>
<p>2015-02-21  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/magick.c (InitializeMagick): Invoke
NTInitializeExceptionHandlers() under Windows.</li>
<li>magick/nt_base.c (NTInitializeExceptionHandlers): Add a new
private function which disables pop-up Windows on exceptions and
registers a handler for Windows exceptions to clean up temporary
files prior to program exit.</li>
<li>magick/magick.c (PanicDestroyMagick): Use
PurgeTemporaryFilesAsyncSafe() rather than PurgeTemporaryFiles().
(InitializeMagickSignalHandlers): Always register for SIGINT, even
under Microsoft Windows.</li>
<li>magick/tempfile.c (PurgeTemporaryFilesAsyncSafe): New private
function to clean up temporary files prior to program exit.
Async-safe so it can be safely called from a signal handler.
Intentionally leaks memory.</li>
</ul>
</blockquote>
<p>2015-02-18  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/attribute.c (GenerateEXIFAttribute): Fix crash while
parsing corrupt EXIF which was reported by Stijn Sanders on
2015-02-17.</li>
<li>Magick++/lib/{Blob.cpp, Image.cpp}: Incorrect lock scope
resulted in Magick++ locking not actually working to protect
critical sections in spite of no detected problems with locking
these past 16 years.  Problem was detected using the
misc-unused-raii check from clang-tidy and was reported by Hyrum
Wright.</li>
<li>coders/palm.c (ReadPALMImage): Add header logging to writer.
Writer still seeks and overwrites its own header so logging is not
entirely accurate yet.</li>
</ul>
</blockquote>
<p>2015-02-16  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>libtool: Update GNU libtool to 2.4.6.</li>
<li>coders/palm.c (ReadPALMImage): Fix support for transparency in
PALM reader.</li>
</ul>
</blockquote>
<p>2015-02-15  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/palm.c (ReadPALMImage): Major re-work of PALM reader.
More log message improvements.  More header validation.</li>
</ul>
</blockquote>
<p>2015-02-14  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/palm.c (ReadPALMImage): Improve log messages.  Add more
header validation.  Check image pixel limits.  Support 'ping'
mode.</li>
</ul>
</blockquote>
<p>2015-02-12  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/palm.c (ReadPALMImage): PALM reader now supports 1, 2, 4,
8, and 16-bit test files we were able to generate using
'pnmtopalm'.  A progress monitor was added.  Memory leaks in error
paths were fixed.</li>
</ul>
</blockquote>
<p>2015-02-12  Glenn Randers-Pehrson  &lt;<a class="reference external" href="mailto:glennrp&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">glennrp<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/png.c: Insert &quot;if (QuantumTick(...))&quot; ahead of
each &quot;if (!MagickMonitorFormatted(...)&quot;.</li>
</ul>
</blockquote>
<p>2015-02-10  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/rla.c (ReadRLAImage): Assure that header ASCII strings
are properly terminated.  Resolves Coverity CID 10322.</li>
</ul>
</blockquote>
<p>2015-02-09  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/nt_base.h (STDERR_FILENO): Provide definitions for
standard POSIX file numbers so that Visual Studio should compile.
Fixes SourceForge bug #291 &quot;STDERR_FILENO (used in magick.c) is
not defined under Windows&quot;</li>
</ul>
</blockquote>
<p>2015-02-08  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>Magick++/lib/Image.cpp (Image::quiet()): Patch by Dirk Lemstra
to support silencing warnings in Magick++.  Adds a quiet() method
which blocks (ignores) warning exceptions when passed a true
argument.  Warning exceptions are still generated by default.</li>
<li>coders/tiff.c: Support '-define tiff:report-warnings=true' to
enable that warnings reported by libtiff are thrown as warning
exceptions so that they may be caught or will be reported at the
gm command-line.</li>
</ul>
</blockquote>
<p>2015-02-07  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/tiff.c (WriteTIFFImage): Use YCbCr encoding when JPEG
compression is requested for an RGB image.</li>
</ul>
</blockquote>
<p>2015-02-04  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/tiff.c (QuantumTransferMode): Fix reading or writing
planar min-is-white or min-is-black images with an associated
alpha channel.</li>
</ul>
</blockquote>
<p>2015-02-01  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/xpm.c (ReadXPMImage): Reading empty XPM file should not
cause bad memory access.</li>
<li>coders/gif.c (DecodeImage): Assure that GIF decoder does not use
unitialized data.</li>
<li>coders/jpeg.c (ReadJPEGImage): Verify that we support the number
of output components before proceeding to decode the image.</li>
</ul>
</blockquote>
<p>2015-01-25  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/miff.c (ReadMIFFImage): MIFF needs to stop spinning if
zlib or bzlib report an error while decompressing.  Solves problem
with file provided by Jodie Cunningham on 2015-01-25.</li>
<li>coders/vicar.c (ReadVICARImage): Fix Vicar reader's dogged
determination to continue reading when there is nothing left to
read.  Solves problem with file provided by Jodie Cunningham on
2015-01-25.</li>
<li>magick/magick.c (PanicDestroyMagick): Replace memory allocation
functions with dummy functions rather than NULL pointers.
(InitializeMagickSignalHandlers): Register
MagickPanicSignalHandler() for SIGSEGV.
(MagickPanicSignalHandler): Produce an informative message for the
user.
(MagickSignalHandlerMessage): Include more detailed information
from the signal handler via a common routine used by default
signal handlers.</li>
</ul>
</blockquote>
<p>2015-01-25  Glenn Randers-Pehrson  &lt;<a class="reference external" href="mailto:glennrp&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">glennrp<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/bmp.c (ReadBMPImage): An attempt to address CID 10291.</li>
</ul>
</blockquote>
<p>2015-01-25  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/nt_base.c (Exit): Changed to return 'void'. Function can
not return a value if it does not return.</li>
<li>magick/error.c (DefaultFatalErrorHandler): Invoke
PanicDestroyMagick() rather than DestroyMagick().  If we are
really that short on memory, DestroyMagick() might not work.</li>
<li>magick/magick.c (MagickPanicSignalHandler): Only use async-safe
functions in signal handler.
(PanicDestroyMagick): New function for emergency release of
persistent resources just prior to program exit.  Async-safe and
does not acquire or release any heap memory.</li>
<li>magick/export.c: Eliminate two 'clang' warnings.</li>
</ul>
</blockquote>
<p>2015-01-24  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/pdb.c (ReadPDBImage): Fix typo.</li>
<li>coders/cineon.c (ReadCINEONImage): Enforce that Cineon image
info channels is valid.  Solves problem with file provided by
Jodie Cunningham on 2015-01-24</li>
<li>coders/fits.c (ReadFITSImage): Enforce valid bits-per-pixel
values.  Add detailed header logging.  Solves problem with file
provided by Jodie Cunningham on 2015-01-24</li>
</ul>
</blockquote>
<p>2015-01-22  Glenn Randers-Pehrson  &lt;<a class="reference external" href="mailto:glennrp&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">glennrp<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/png.c (ReadPNGImage): Check length of various MNG
chunks before using the chunk data.</li>
<li>coders/png.c (WriteOnePNGImage): Use png_error() instead of
throwing an exception so cleanup in the setjmp block can happen,
including unlocking the semaphore.  Addresses Coverity CID 10184.</li>
</ul>
</blockquote>
<p>2015-01-22  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/gif.c (WriteGIFImage): Don't use an unchecked value from
GetImageAttribute(), even if the access succeeded before.
Resolves Coverity CID 10219.</li>
<li>coders/dpx.c (StringToAttribute): Make sure that string is not
accidentally shortened by one character if it occupies the full
field size.
(ReadDPXImage): Validate that the bits per sample claimed by the
file header is a supported depth before using it further in the
code.  This might resolve Coverity CID 10071 &quot;Bad shift
operation&quot;.
(ReadDPXImage): Check for EOF while reading forward to element
data.  Might solve Coverity CID 10305.</li>
<li>coders/dib.c (ReadDIBImage): Resolve Coverity CID 10228 &quot;Integer
overflowed argument&quot;.
(ReadDIBImage): Hopefully resolve Coverity CID 10268 &quot;Various&quot;,
which is primarily about placing too much trust in the claimed
number of colors.</li>
<li>coders/pnm.c (WritePNMImage): Fix overwrite of status by
progress monitor.  Remaining issues may lurk within.  May resolve
Coverity CID 10288.</li>
<li>coders/pdb.c: Resolve Coverity CID 11173 &quot;Buffer not null
terminated&quot;.</li>
</ul>
</blockquote>
<p>2015-01-21  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/magick.c (GetMagickInfoArray): Resolve Coverity CID 10212
&quot;Missing unlock&quot;.</li>
<li>magick/colormap.c (ReplaceImageColormap): Allocate new image
colormap up front in order to avoid the possibility that we are
left with an image with no colormap due to memory allocation
failure. If there is a memory allocation failure, then the
original colormap is preserved.  Resolves Coverity CID 10194
&quot;Dereference after null check&quot;.</li>
<li>magick/utility.c (MagickStripSpacesFromString): New private
utility function to strip spaces from a string.</li>
<li>magick/color_lookup.c (GetColorInfoArray): Resolves Coverity CID
10231 &quot;Missing unlock&quot;
(ReadColorConfigureFile): Resolves Coverity CID 10261 &quot;Use of
untrusted scalar value&quot;
(GetColorInfo): Resolves Coverity CID 10077 &quot;Overlapping buffer in
memory copy&quot;.</li>
</ul>
</blockquote>
<p>2015-01-21  Glenn Randers-Pehrson  &lt;<a class="reference external" href="mailto:glennrp&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">glennrp<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/png.c (ReadOnePNGImage): Use png_error() instead of
throwing an exception so cleanup in the setjmp block can happen,
including unlocking the semaphore.  Resolves Coverity CID 10232.</li>
<li>coders/png.c (ReadOnePNGImage): Moved a logging statement into a
block where &quot;attribute&quot; has been checked for NULL.  Resolves
Coverity CIDs 10185 and 10187.</li>
<li>coders/png.c (ReadMNGImage): Fixed a cut-and-paste typo
(change_delay should be change_timeout) reported by Coverity
CID 10090.</li>
</ul>
</blockquote>
<p>2015-01-20  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/image.c (CloneImage): The definition is poor as to what a
non-orphan clone should do.  However, the definition surely does
not include crashing the software or supplanting the original
image in an image list.  Clone image blob and previous/next
pointers but do not supplant original image in list.  Resolves
Coverity CID 10155.</li>
</ul>
</blockquote>
<p>2015-01-18  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/dpx.c (WriteRowSamples): Ensure that callback function is
always defined. Resolves Coverity CID 10122.
(ReadRowSamples): Ensure that callback function is always
defined. Resolves Coverity CID 10125.</li>
<li>magick/random.c (InitializeMagickRandomKernel): Avoid possible
double-close of file.  Resolves Coverity CID 10257.</li>
<li>coders/histogram.c (WriteHISTOGRAMImage): Avoid possible divide
by zero exception.  Resolves Coverity CID 10107.</li>
<li>magick/error.c (MagickFatalError): Document that
MagickFatalError() is not supposed to return (program must quit)
and add GCC/Clang hints to that effect.</li>
<li>magick/bit_stream.c (BitAndMasks): Avoid possible access
one-beyond end of BitAndMasks array.  It is not clear if there is
a possible bug with 32-bit quantums.  If there is a bug, it has
not been noticed via testing.  Resolves Coverity CID 10213.</li>
<li>magick/tempfile.c (AcquireTemporaryFileDescriptor): Avoid buffer
overrun in the case of an astonishingly long environment variable
string.  Resolves Coverity CID 10267.
(AddTemporaryFileToList): Use strlcpy() rather than strlcpy().  In
practice, should not make a difference.  Will quiet Coverity CID
10321.</li>
<li>magick/command.c (GMCommandSingle): Don't use the address of a
stack allocation to update argv[0]. Removed updating argv[0] until
a better design can be found.  Resolves Coverity CID 10223.
(GMCommandSingle): Plan B: Use static allocation from
SetClientName() to both store the new command name and provide
storage for argv[0].</li>
<li>magick/utility.c (SystemCommand): Fix possible overwrite of
memory location due to uninitialized 'end' pointer.  Resolves
Coverity CID 10251.</li>
<li>magick/blob.c (WriteBlobFile): Was not closing file in certain
error conditions.  Resolves Coverity CID 10237.</li>
<li>coders/cineon.c (ReadCINEONImage): Don't trust file header so
much.  Resolves Coverity CIDs 10079, 10310, 10325.</li>
<li>coders/art.c (ReadARTImage): Fix signed vs unsigned comparison
caused by earlier changes.</li>
</ul>
</blockquote>
<p>2014-01-17 Fojtik Jaroslav  &lt;<a class="reference external" href="mailto:JaFojtik&#37;&#52;&#48;seznam&#46;cz">JaFojtik<span>&#64;</span>seznam<span>&#46;</span>cz</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/wpg.c Do not execute wpg raster read in ping mode.</li>
</ul>
</blockquote>
<p>2014-01-15 Fojtik Jaroslav  &lt;<a class="reference external" href="mailto:JaFojtik&#37;&#52;&#48;seznam&#46;cz">JaFojtik<span>&#64;</span>seznam<span>&#46;</span>cz</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/mat.c Properly deallocating zip structures.</li>
</ul>
</blockquote>
<p>2015-01-14  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/sfw.c (ReadSFWImage): Fix pixel cache access errors in
'ping' mode.</li>
</ul>
</blockquote>
<p>2015-01-13  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/wmf.c (ReadWMFImage): Fix memory leak in 'ping' mode and
some error paths.</li>
</ul>
</blockquote>
<p>2015-01-12  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/jbig.c (ReadJBIGImage): Fix memory leak in 'ping' mode.</li>
<li>magick/delegate.c (InvokeDelegate): Fix memory leak of argument
list when invoking external program via MagickSpawnVP().</li>
</ul>
</blockquote>
<p>2015-01-11  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/resource.c (InitializeMagickResources): Base image width
and height default limits on the range of a 32-bit signed integer,
even for 64-bit builds.  These limits are still beyond what most
computers in the world can handle.  Limits can be increased by the
user.</li>
<li>coders/xwd.c (ReadXWDImage): Check image size limits
immediately.</li>
<li>coders/xc.c (ReadXCImage): Check image size limits immediately.</li>
<li>coders/webp.c (ReadWEBPImage): Check image size limits
immediately.</li>
<li>coders/viff.c (ReadVIFFImage): Check image size limits
immediately.</li>
<li>coders/vicar.c (ReadVICARImage): Check image size limits
immediately.</li>
<li>coders/txt.c (ReadTXTImage): Check image size limits
immediately.</li>
<li>coders/ttf.c (ReadTTFImage): Check image size limits
immediately.</li>
<li>coders/tim.c (ReadTIMImage): Check image size limits
immediately.</li>
<li>coders/tiff.c (ReadTIFFImage): Check image size limits
immediately.</li>
<li>coders/tga.c (ReadTGAImage): Check image size limits
immediately.</li>
<li>coders/sgi.c (ReadSGIImage): Check image size limits
immediately.</li>
<li>coders/sct.c (ReadSCTImage): Check image size limits
immediately.</li>
<li>coders/rle.c (ReadRLEImage): Check image size limits
immediately.</li>
<li>coders/rla.c (ReadRLAImage): Check image size limits
immediately.</li>
<li>coders/psd.c (ReadPSDImage): Check image size limits
immediately.</li>
<li>coders/pnm.c (ReadPNMImage): Check image size limits
immediately.</li>
<li>coders/pix.c (ReadPIXImage): Check image size limits
immediately.</li>
<li>coders/pict.c (ReadPICTImage): Check image size limits
immediately.</li>
<li>coders/pdb.c (ReadPDBImage): Check image size limits
immediately.</li>
<li>coders/pcx.c (ReadPCXImage): Check image size limits
immediately.</li>
<li>coders/pcd.c (ReadPCDImage): Check image size limits
immediately.</li>
<li>coders/otb.c (ReadOTBImage): Check image size limits
immediately.</li>
<li>coders/null.c (ReadNULLImage): Check image size limits
immediately.</li>
<li>coders/mvg.c (ReadMVGImage): Check image size limits
immediately.</li>
<li>coders/mtv.c (ReadMTVImage): Check image size limits
immediately.</li>
<li>coders/mpc.c (ReadMPCImage): Check image size limits
immediately.</li>
<li>coders/miff.c (ReadMIFFImage): Check image size limits
immediately.</li>
<li>coders/jpeg.c (ReadJPEGImage): Check image size limits
immediately.</li>
<li>coders/jp2.c (ReadJP2Image): Check image size limits
immediately.</li>
<li>coders/jbig.c (ReadJBIGImage): Check image size limits
immediately.</li>
<li>coders/hdf.c (ReadHDFImage): Check image size limits
immediately.</li>
<li>coders/gif.c (ReadGIFImage): Check image size limits
immediately.</li>
<li>coders/fpx.c (ReadFPXImage): Check image size limits
immediately.</li>
<li>coders/fax.c (ReadFAXImage): Check image size limits
immediately.</li>
<li>coders/dpx.c (ReadDPXImage): Check image size limits
immediately.</li>
<li>coders/dps.c (ReadDPSImage): Check image size limits
immediately.</li>
<li>coders/dib.c (ReadDIBImage): Check image size limits
immediately.</li>
<li>coders/dcm.c (ReadDCMImage): Check image size limits
immediately.</li>
<li>coders/cut.c (ReadCUTImage): Check image size limits
immediately.</li>
<li>coders/cineon.c (ReadCINEONImage): Check image size limits
immediately.</li>
<li>coders/avs.c (ReadAVSImage): Check image size limits
immediately.</li>
<li>coders/art.c (ReadARTImage): Check image size limits
immediately.</li>
<li>coders/sun.c (ReadSUNImage): Check image size limits in advance
of allocating memory for pixels.</li>
<li>coders/bmp.c (ReadBMPImage): Check image size limits in advance
of allocating memory for pixels.</li>
<li>coders/sun.c (ReadSUNImage): There is no definition for Sun map
type RMT_RAW so it can not be supported.  Update DirectClass
pixels directly rather using SyncImage().  Problem was reported by
Jodie Cunningham.</li>
</ul>
</blockquote>
<p>2015-01-10  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/pict.c (ReadPICTImage): Fix PICT reader crash when
reading corrupted file.</li>
<li>coders/sun.c (ReadSUNImage): Sun reader was still not as robust
as it should be.  Now it is.</li>
</ul>
</blockquote>
<p>2014-01-10 Fojtik Jaroslav  &lt;<a class="reference external" href="mailto:JaFojtik&#37;&#52;&#48;seznam&#46;cz">JaFojtik<span>&#64;</span>seznam<span>&#46;</span>cz</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/wpg.c Fixed reading behind EOF issue.</li>
</ul>
</blockquote>
<p>2015-01-09  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/dpx.c (LSBPackedU32WordToOctets): Fix typo which adds
severe corruption to encoded little-endian 32-bit packed output.
The good news is that since the corruption is severe, it is easily
visually detected.  The problem has corrupted all such
(little-endian 10-bit) output since it was originally implemented
on 2007-06-17 (changeset 11686, first released in GraphicsMagick
1.1.8).  GraphicsMagick preserves the endianness of input DPX
files by default, defaults to big-endian, and DPX files are
commonly big-endian, so this problem may not have occured for many
usages.  Problem was reported by Steve Dabner on the
GraphicsMagick discussion mailing list.</li>
</ul>
</blockquote>
<p>2015-01-05  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/magick.c (MagickPanicSignalHandler): Print a message in
the case of signals SIGXCPU and SIGXFSZ.</li>
<li>coders/bmp.c (ReadBMPImage): Don't hang in endless loop if EOF
is encountered while checking for &quot;BA&quot; header.</li>
<li>coders/icon.c (ReadIconImage): Limit icon image allocation size.</li>
</ul>
</blockquote>
<p>2015-01-04  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/icon.c (ReadIconImage): Removed all of the
previously-existing DIB reading code from icon.c and use new
&quot;ICODIB&quot; reader to read DIB icons, or the PNG reader to read PNG
icons.</li>
<li>coders/dib.c (ReadDIBImage): Added an &quot;ICODIB&quot; coder for
internal use which reads a Windows BMP 3 DIB followed by a Windows
ICO alpha mask.  This allows existing DIB code to be used to read
ICO directory entries.</li>
</ul>
</blockquote>
<p>2015-01-03  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/icon.c: The Windows ICO reader is now more robust.  Still
a work in progress since some files still can not be read or read
incorrectly.</li>
</ul>
</blockquote>
<p>2015-01-01  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/resource.c (ListMagickResourceInfo): &quot;kilo&quot; for binary
prefixes is supposed to be &quot;Ki&quot;.</li>
<li>magick/utility.c (FormatSize): &quot;kilo&quot; for binary prefixes is
supposed to be &quot;Ki&quot;.</li>
</ul>
</blockquote>
<p>2015-01-01  Glenn Randers-Pehrson  &lt;<a class="reference external" href="mailto:glennrp&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">glennrp<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>coders/png.c: Use WidthResource and HeightResource instead
of fixed 1-million limit for rows and columns.</li>
</ul>
</blockquote>
<p>2015-01-01  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>magick/utility.c (FormatSize): Add 'i' to value range
identifiers since these are all in units of 2^10 rather than 1000.</li>
<li>magick/pixel_cache.c (CheckImagePixelLimits): Fix typo and
produce an informative error message.</li>
<li>magick/resource.c: Added support for Image width and height
pixels resource limits.</li>
<li>magick/resource.h (ResourceType): New resource enumerations
WidthResource and HeightResource.</li>
<li>magick/enum_strings.c (StringToResourceType): Added support for
parsing '-limit Width' and '-limit Height'.</li>
<li>magick/pixel_cache.c (CheckImagePixelLimits): New function to
test image to see if it exceeds pixels limits.</li>
<li>coders/viff.c (ReadVIFFImage): Make the VIFF reader robust with
detecting and reporting problems.</li>
</ul>
</blockquote>
<p>2014-12-31  Bob Friesenhahn  &lt;<a class="reference external" href="mailto:bfriesen&#37;&#52;&#48;simple&#46;dallas&#46;tx&#46;us">bfriesen<span>&#64;</span>simple<span>&#46;</span>dallas<span>&#46;</span>tx<span>&#46;</span>us</a>&gt;</p>
<blockquote>
<ul class="simple">
<li>Rotate Changelog for new year.  Update documentation copyrights
for new year.</li>
</ul>
</blockquote>
</div>
</body>
</html>
